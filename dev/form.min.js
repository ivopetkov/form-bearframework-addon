/*
 * Form addon for Bear Framework
 * https://github.com/ivopetkov/form-bearframework-addon
 * Copyright (c) Ivo Petkov
 * Free to use under the MIT license.
 */
var ivoPetkov=ivoPetkov||{};ivoPetkov.bearFrameworkAddons=ivoPetkov.bearFrameworkAddons||{};
ivoPetkov.bearFrameworkAddons.form=ivoPetkov.bearFrameworkAddons.form||function(){var d=[],e=function(a){if("undefined"!==typeof d[a]){var c=document.querySelector('form[data-form-id="'+a+'"]');if(null!==c&&1!==d[a].status){var b=document.createEvent("Event");b.initEvent("beforesubmit",!1,!0);c.dispatchEvent(b)&&(d[a].status=1,b=document.createEvent("Event"),b.initEvent("submitstart",!1,!1),c.dispatchEvent(b),clientShortcuts.get("-form-submit").then(function(b){b.submit(c,d[a])}))}}};return{initialize:function(a){var c=
a[0];d[c]={serverData:a[1],errorMessage:a[2],status:0};var b=document.querySelector('form[data-form-id="'+c+'"]');null!==b&&(b.submit=function(){e(c)},a=function(a){var c=b.getAttribute("on"+a);null!==c&&b.addEventListener(a,function(a){(new Function("return function(event){"+c+"}"))().bind(this)(a)})},a("beforesubmit"),a("submitstart"),a("submitend"),a("submitsuccess"),a("submiterror"))},submit:e}}();